import numpy as np
Q = np.zeros((4,2))   # states x actions
alpha, gamma = 0.1, 0.9
for _ in range(100):
    s = 0
    while s < 3:
        a = np.argmax(Q[s])
        r = 1 if s == 2 else -0.1
        s2 = s + 1
        Q[s,a] += alpha * (r + gamma*np.max(Q[s2]) - Q[s,a])
        s = s2
print(Q)
